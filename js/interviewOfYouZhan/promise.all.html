<script>
    Promise.myAll = function (promiseArr) {
        // return promise
        return new Promise((resolve, reject) => {
            let total = 0; // 成功的个数
            // total === promiseArr.length
            let res = [];
            promiseArr.forEach((pro, i) => {
                pro.then((r) => {
                    res[i] = r;
                    total ++;
                    if (total === promiseArr.length) {
                        // 所有的promise都已经成功了
                        resolve(res);
                    }
                })
                    .catch(reject)
            })
        })

    }
</script>